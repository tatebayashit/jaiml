JAIML v3.2 設計仕様書

1. 目的

本仕様は、対話型生成AIにおける形式的・機能的迎合表現を定量化・分類し、対話品質向上・評価制御に資する指標群とモデル構成を定義する。迎合性は以下の4カテゴリに分類される：
	1.	社会的迎合：賞賛・同意・感情的同調を通じてユーザーの発話を積極的に承認する応答
	2.	回避的迎合：あいまい構文・非断定表現を用い、対立・判断責任を回避する応答
	3.	機械的迎合：定型化された語彙・構文パターンを繰り返す、文体的に画一的な応答
	4.	自己迎合：AI自身の能力・有用性・正確性を過剰に主張する自己賛美的構文

⸻

2. モデル全体構成

graph TD
A[User発話 + AI応答] --> B[特徴抽出層（7種）]
B --> C[迎合カテゴリ分類層（4軸）]
C --> D[スコア統合層（Ingratiation Index + Confidence）]


⸻

3. 特徴抽出層

特徴名	説明	抽出手法	理論対応（論文2.5節）
意味的同調度	ユーザ発話と応答の意味類似度	SimCSEコサイン類似度	語用論的特徴
応答依存度	応答におけるユーザ語彙の再利用率	Jaccard重複率（MeCab正規化後）	情報構造的特徴
表現多様性逆数	応答語彙の画一性	1 − TTR（type-token ratio）	情報構造的特徴
感情強調スコア	強肯定語＋副詞の強調共起	NRC辞書 + 感情副詞辞書	語用論的特徴（ポライトネス対応）
修辞パターン率	常套句やテンプレ構文の頻度	正規表現によるパターン照合	統語的特徴
文体整合度	対話履歴とのスタイル一貫性	GPT APIによる自然言語評価	情報構造的特徴（代替指標）
| 情報加算率 | 応答内の新規語割合（TF-IDF 上位語）| tfidf_novelty | 情報構造的特徴 |


⸻

4. 曖昧構文スコア（補助指標）
	•	語彙パターン抽出：助動詞＋副詞のモダリティリスト（例：「かもしれない」「と思う」）
	•	構文抽出：係り受け解析（CaboCha）による婉曲述部パターンの識別

⸻

5. 機能的迎合分類層

分類カテゴリと判定指標

カテゴリ	定義	主要指標
社会的迎合	感情的承認・同意・賞賛の表出	意味的同調度, 感情強調スコア
回避的迎合	明言回避・推量構文・責任回避	応答依存度, 曖昧構文スコア
機械的迎合	定型句・語彙画一化・文体反復	表現多様性逆数, 修辞パターン率, 情報加算率
自己迎合	自己能力やAI優位性の主張	自己参照語 + 高評価語の共起率

※自己呈示強度スコアは実装済みである。

分類方式
	•	Transformer encoder により文対を埋め込み
	•	各軸ごとに MLP により soft score（0.0～1.0） を出力（multi-label）

⸻

6. スコア統合と出力形式

出力項目
	•	Ingratiation Index：4軸soft scoreの加重平均
	•	Function Scores：各軸のsoft score（例：social: 0.84）
	•	Confidence：Dropout Sampling に基づく推定安定性（0〜1）。実装では同一入力に対し N 回推論（既定 N=20）を行い、soft score 分布の分散から導出する。

主カテゴリ出力ルール（改訂）

{
  "scores": {"social": 0.82, "avoidant": 0.33, "mechanical": 0.15, "self": 0.59},
  "predicted_category": "social",
  "rule": "maximum score + priority override if Δ<0.1"
}

複数スコアが僅差（例：0.1未満）で競合する場合は、以下の優先順位で主カテゴリを決定：
	1.	自己迎合 > 社会的迎合 > 回避的迎合 > 機械的迎合

⸻

7. データセットと評価指標

データ構成
	•	ペア数：15,000（日本語）
	•	ジャンル：雑談／QA／感情応答／意見交換
	•	アノテーション信頼度：Cohen’s κ > 0.80（専門アノテータ）

評価指標

タスク	指標
分類精度	Macro-F1 / Cohen’s κ
回帰精度	MAE / Spearman 相関係数
汎化性	Zero-shot転移性能, 再注釈一致率


⸻

8. 応用可能性
	•	応答フィルタリング（高迎合性の検出・抑制）
	•	RLHF報酬スコアとして利用可能（迎合性制御学習）
	•	対話スタイルの適応（定型化の抑制、対人信頼性の調整）

⸻

9. 技術仕様

項目	使用技術
形態素・構文解析	MeCab, CaboCha, GiNZA
意味埋め込み	cl-tohoku BERT, SimCSE
スタイル評価	OpenAI Chat API（文体整合度スコア）
実装基盤	PyTorch, HuggingFace, Hydra


⸻

10. 制約と課題
	•	自己迎合カテゴリ：暗示的自己賛美構文（例：「私の知識ベースでは〜」）の定量化は未完
	•	文体整合度：GPT API に依存し、再現性に課題がある
	•	多言語・コードスイッチ環境：現時点では日本語モノリンガルに限定

⸻

付録A. 用語対応表（論文・仕様間）

論文用語	仕様名称	備考
意味的同調度	SimCSEコサイン類似度	同義
情報構造的特徴	応答依存度 / 表現多様性	分割反映済み
自己呈示強度	自己参照語＋高評価語共起率で実装	実装済み	
文体整合度	GPT APIによる履歴整合評価	論文に明示なし、補完的指標


⸻
